{
  "rules":{
    ".write":"false",
    ".read":"false",
    "chatboxes": {
      ".write":"false",
      ".read":"false",
      "$chatbox_id": {
        ".write":"((false))",
        ".read":"(auth.id!==null)",
        "activated": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&auth.admin===true&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "activated_at": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&auth.admin===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "color": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "domain": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&newData.exists()&&!data.exists()&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "texturize": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "exclude": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "include": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "initial_offline_message": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "initial_online_message": {
          ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('color').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('initial_offline_message').exists()&&newData.parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
          ".read":"(auth.id!==null)"
        },
        "canned": {
          ".write":"(false)",
          ".read":"(auth.id!==null)",
          "$canned_id": {
            ".indexOn": ["hash"],
            ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(newData.parent().parent().val()==null||newData.parent().parent().child('color').exists()&&newData.parent().parent().child('exclude').exists()&&newData.parent().parent().child('include').exists()&&newData.parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(newData.val()==null||newData.child('hash').exists()&&newData.child('message').exists())&&(!newData.child('hash').exists()||newData.child('hash').isString())&&(!newData.child('message').exists()||newData.child('message').isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
            ".read":"(auth.id!==null)",
            "hash": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('hash').exists()&&newData.parent().child('message').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "message": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('hash').exists()&&newData.parent().child('message').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "$other":{".validate":"false"}
          }
        },
        "agents": {
          ".write":"(false)",
          ".read":"(auth.id!==null)",
          "$agent_id": {
            ".indexOn": ["online"],
            ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(newData.parent().parent().val()==null||newData.parent().parent().child('color').exists()&&newData.parent().parent().child('exclude').exists()&&newData.parent().parent().child('include').exists()&&newData.parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(newData.val()==null||newData.child('active').exists()&&newData.child('admin').exists()&&newData.child('avatar').exists()&&newData.child('creator').exists()&&newData.child('email').exists()&&newData.child('name').exists()&&newData.child('online').exists()&&newData.child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.child('active').exists()||newData.child('active').isBoolean())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.child('admin').exists()||newData.child('admin').isBoolean())&&(!newData.child('avatar').exists()||newData.child('avatar').isString())&&(!newData.child('creator').exists()||newData.child('creator').isBoolean())&&(!newData.child('email').exists()||newData.child('email').isString())&&(!newData.child('name').exists()||newData.child('name').isString())&&$agent_id===auth.uid&&(!newData.child('online').exists()||newData.child('online').isBoolean())&&(!newData.child('registered').exists()||newData.child('registered').isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
            ".read":"(auth.id!==null)",
            "active": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "admin": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "avatar": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "creator": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "email": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "name": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "online": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&$agent_id===auth.uid&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "registered": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('chatboxes/'+$chatbox_id+'/agents').val()===null)&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('admin').exists()&&newData.parent().child('avatar').exists()&&newData.parent().child('creator').exists()&&newData.parent().child('email').exists()&&newData.parent().child('name').exists()&&newData.parent().child('online').exists()&&newData.parent().child('registered').exists())&&(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||$agent_id===auth.uid)&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "$other":{".validate":"false"}
          }
        },
        "triggers": {
          ".write":"(false)",
          ".read":"(auth.id!==null)",
          "$trigger_id": {
            ".indexOn": ["delay", "state"],
            ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(newData.parent().parent().val()==null||newData.parent().parent().child('color').exists()&&newData.parent().parent().child('exclude').exists()&&newData.parent().parent().child('include').exists()&&newData.parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(newData.val()==null||newData.child('active').exists()&&newData.child('delay').exists()&&newData.child('exclude').exists()&&newData.child('include').exists()&&newData.child('message').exists()&&newData.child('state').exists())&&(!newData.child('active').exists()||newData.child('active').isBoolean())&&(!newData.child('delay').exists()||newData.child('delay').isNumber())&&(!newData.child('exclude').exists()||newData.child('exclude').isString())&&(!newData.child('include').exists()||newData.child('include').isString())&&(!newData.child('message').exists()||newData.child('message').isString())&&(!newData.child('state').exists()||newData.child('state').isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
            ".read":"(auth.id!==null)",
            "active": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "delay": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isNumber())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "exclude": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "include": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "message": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "state": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('active').exists()&&newData.parent().child('delay').exists()&&newData.parent().child('exclude').exists()&&newData.parent().child('include').exists()&&newData.parent().child('message').exists()&&newData.parent().child('state').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "$other":{".validate":"false"}
          }
        },
        "introducers": {
          ".write":"(false)",
          ".read":"(auth.id!==null)",
          "$introducer_id": {
            ".indexOn": ["ordinal"],
            ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(newData.parent().parent().val()==null||newData.parent().parent().child('color').exists()&&newData.parent().parent().child('exclude').exists()&&newData.parent().parent().child('include').exists()&&newData.parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(newData.val()==null||newData.child('name').exists()&&newData.child('ordinal').exists()&&newData.child('permalink').exists()&&newData.child('required').exists()&&newData.child('type').exists()&&newData.child('validator').exists())&&(!newData.child('name').exists()||newData.child('name').isString())&&(!newData.child('ordinal').exists()||newData.child('ordinal').isNumber())&&(!newData.child('permalink').exists()||newData.child('permalink').isString())&&(!newData.child('type').exists()||newData.child('type').isString())&&(!newData.child('validator').exists()||newData.child('validator').isString())&&(!newData.child('required').exists()||newData.child('required').isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
            ".read":"(auth.id!==null)",
            "name": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "ordinal": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isNumber())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "permalink": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "type": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "validator": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isString())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "required": {
              ".write":"(((!newData.parent().parent().parent().exists()||!(((newData.parent().parent().parent().isString()||newData.parent().parent().parent().isNumber()||newData.parent().parent().parent().isBoolean()))))&&(newData.parent().parent().parent().val()==null||newData.parent().parent().parent().child('color').exists()&&newData.parent().parent().parent().child('exclude').exists()&&newData.parent().parent().parent().child('include').exists()&&newData.parent().parent().parent().child('initial_offline_message').exists()&&newData.parent().parent().parent().child('initial_online_message').exists())&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true&&(!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('name').exists()&&newData.parent().child('ordinal').exists()&&newData.parent().child('permalink').exists()&&newData.parent().child('required').exists()&&newData.parent().child('type').exists()&&newData.parent().child('validator').exists())&&(!newData.exists()||newData.isBoolean())&&(auth.admin===true||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)))",
              ".read":"(auth.id!==null)"
            },
            "$other":{".validate":"false"}
          }
        },
        "$other":{".validate":"false"}
      }
    },
    "contacts": {
      ".write":"false",
      ".read":"false",
      "$chatbox_id": {
        ".write":"(false)",
        ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true)",
        "$contact_id": {
          ".indexOn": ["online", "contact_last_seen"],
          ".write":"(((((((false)))))))",
          ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)",
          "anonymous": {
            ".write":"(((!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "details": {
            ".write":"(((!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "online": {
            ".write":"(((!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "introduced": {
            ".write":"(((!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "triggered_by": {
            ".write":"(((!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "agent": {
            ".write":"(((root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)&&(!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "messages": {
            ".write":"(false)",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)",
            "$message_id": {
              ".indexOn": ["created_at"],
              ".write":"(((!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.exists()||!(((newData.isString()||newData.isNumber()||newData.isBoolean()))))&&(newData.val()==null||newData.child('body').exists()&&newData.child('contact').exists()&&newData.child('created_at').exists()&&newData.child('from_agent').exists()&&newData.child('read').exists())&&(!newData.child('body').exists()||newData.child('body').isString())&&(!newData.child('contact').exists()||newData.child('contact').isString())&&(!newData.child('created_at').exists()||newData.child('created_at').isString())&&(!newData.child('from_agent').exists()||newData.child('from_agent').isBoolean())&&(!newData.child('read').exists()||newData.child('read').isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
              ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)",
              "body": {
                ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('body').exists()&&newData.parent().child('contact').exists()&&newData.parent().child('created_at').exists()&&newData.parent().child('from_agent').exists()&&newData.parent().child('read').exists())&&(!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
                ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
              },
              "contact": {
                ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('body').exists()&&newData.parent().child('contact').exists()&&newData.parent().child('created_at').exists()&&newData.parent().child('from_agent').exists()&&newData.parent().child('read').exists())&&(!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
                ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
              },
              "created_at": {
                ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('body').exists()&&newData.parent().child('contact').exists()&&newData.parent().child('created_at').exists()&&newData.parent().child('from_agent').exists()&&newData.parent().child('read').exists())&&(!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
                ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
              },
              "from_agent": {
                ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('body').exists()&&newData.parent().child('contact').exists()&&newData.parent().child('created_at').exists()&&newData.parent().child('from_agent').exists()&&newData.parent().child('read').exists())&&(!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
                ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
              },
              "read": {
                ".write":"(((!newData.parent().parent().exists()||!(((newData.parent().parent().isString()||newData.parent().parent().isNumber()||newData.parent().parent().isBoolean()))))&&newData.exists()&&!data.exists()&&(!newData.parent().exists()||!(((newData.parent().isString()||newData.parent().isNumber()||newData.parent().isBoolean()))))&&(newData.parent().val()==null||newData.parent().child('body').exists()&&newData.parent().child('contact').exists()&&newData.parent().child('created_at').exists()&&newData.parent().child('from_agent').exists()&&newData.parent().child('read').exists())&&(!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
                ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
              },
              "$other":{".validate":"false"}
            }
          },
          "contact_typing": {
            ".write":"(((!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "agent_typing": {
            ".write":"(((root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)&&(!newData.exists()||newData.isBoolean())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "agent_last_seen": {
            ".write":"(((root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)&&(!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          },
          "contact_last_seen": {
            ".write":"(((!newData.exists()||newData.isString())&&(auth.id!==null||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)))",
            ".read":"(root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true||$contact_id===auth.uid||root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/active').val()===true&&root.child('chatboxes/'+$chatbox_id+'/agents/'+auth.uid+'/admin').val()===true||root.child('contacts/'+$chatbox_id+'/'+$contact_id+'/agent').val()===auth.uid)"
          }
        }
      }
    }
  }
}
